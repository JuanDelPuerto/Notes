Listing user policies and their details
`aws iam list-user-policies --user-name student`
`aws iam get-user-policy --user-name student --policy-name terraform-2021021213362984700000001`
![[Pasted image 20210504103518.png]]

Listing roles
`aws iam list-roles`
![[Pasted image 20210504103746.png]]
Make noted to ARN
Listing role policies and their details
`aws iam list-role-policies --role-name lab12CFDeployRole`
![[Pasted image 20210504103948.png]]
`aws iam get-role-policy --role-name lab12CFDeployRole --policy-name terraform-20210211062254104700000002`
![[Pasted image 20210504104147.png]]

CloudFormation template for adding policy to user
![[Pasted image 20210504104238.png]]

Creating stack using ther role found earlier
`aws cloudformation create-stack --stack-name ad-stack --template-body file://new_policy.json --capabilities CAPABILITY_NAMED_IAM --role-are arn:aws:iam::161176965264:role/lab12CFDeployRole`
![[Pasted image 20210504104430.png]]
Describing stacks and their events
`aws cloudformation describe-stacks --stack-name ad-stack`
![[Pasted image 20210504104828.png]]

Listing user policies and their details
`aws iam list-user-policies --user-name student`
![[Pasted image 20210504104957.png]]
![[Pasted image 20210504105041.png]]
