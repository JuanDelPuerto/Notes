La vulnerabilidad de truncamiento de SQL ocurre cuando una base de datos trunca la entrada del usuario debido a una restricción en la longitud. Los atacantes pueden recopilar información sobre la longitud de un campo crítico (como un nombre de usuario) y explotar esta información para obtener acceso no autorizado. Los atacantes pueden iniciar sesión como algún otro usuario, como un administrador, con su propia contraseña registrada.
La vulnerabilidad de truncamiento de SQL suele existir en las bases de datos MySQL. Esta vulnerabilidad se describió por primera vez en CVE-2008-4106, que estaba relacionada con WordPress CMS.

### Ejemplo de payload.
``` python

def registerUser():

    register_post = {
        'name': 'S4vitar',
        'email': 'admin@book.htb              A',  	# Aquí radica la vulnerabilidad
        'password': 'pwned'
    }

    # SQL Truncation Attack
    r = requests.post(register_url, data=register_post)
```

==================================================================

** SQL Truncation **
Gracias a la vulnerabilidad SQL Truncation, ciertas versiones de MySQL permiten el registro de usuarios ya existentes en la base de datos con otra contraseña. Esto es gracias al uso de la capacidad máxima de caracteres que permite un imput diseñado en la base de datos.
Esta vulnerabilidad permite una "Impersonalización de usuario".

Ejemplo en la máquina Book_HTB. 
En este equipo nos encontramos con un servicio web que proporciona un panel de login. Sabemos que este login utiliza email y contraseña para loguearse y tenemos el correo del usuario administrador: "admin@book.htb".
Tras varias pruebas, vemos que el registro "email" es vulnerable a SQLi pero ninguna inyección funciona correctamente.

Ataque:
1. La vulnerabilidad está presente en la capacidad máxima de caracteres diseñada en la base de datos para guardar el correo del usuario. Si sobrepasamos esta capacidad, provocaremos un fallo sobre la base de datos.
2. Si queremos que el correo del usuario no sea modificado, al sobrepasar el número de caracteres deberá ser con espacios en blanco para no modificarlo.
3. Al provocar el fallo, algunas versiones de MySQL lo que hacen es guardar un nuevo registro con la misma dirección de correo asignándole una nueva contraseña.
4. Por lo tanto, habrá dos usuarios con el mismo correo de entrada y diferentes contraseñas. Pero serán el mismo usuario, estarán copiados, teniendo los mismos privilegios.
5. Deberíamos pasar estos datos en la petición POST que hace que nos logueemos:
```
register_post = {
        'name': 'S4vitar',
        'email': 'admin@book.htb              A',
        'password': 'pwned'
}
```

6. Ya podríamos loguearnos con el mismo usuario pero con la contraseña que le hemos pasado.